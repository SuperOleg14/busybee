{"version":3,"sources":["page-order.js"],"names":["updateSummaryPreview","extrasName","labelText","totalCost","formCleaning","summaryService","document","querySelector","existingItem","concat","textContent","toFixed","previewHTML","insertAdjacentHTML","handleQuantityNumChange","event","input","target","checkboxItem","closest","priceElement","price","parseFloat","dataset","extras","quantity","value","extrasQuantity","isNaN","trim","getSelectedExtras","querySelectorAll","forEach","checkbox","addEventListener","name","isSelected","checked","nextElementSibling","formCleaningElement","getAttribute","parseInt","undefined","remove","arrow","classList","contains","$","change","this","find","removeClass","is","addClass","quantityMinus","$quantityNum","siblings","currentValue","val","attr","quantityPlus","$quantityArrowMinus","$quantityArrowPlus","click","ready","toggleCleaningItems","showClass","hideSelector","hideBathrooms","arguments","length","show","hide","validatePostcode","enteredPostcode","toUpperCase","typeCleaning","data","ajax","url","method","dataType","action","success","postcodes","validationStatus","isValidPostcode","supported","unsupported","text","error","console","postcode","supportedPostcodes","unsupportedPostcodes","uppercasePostcode","includes","firstFour","substring","firstThree","flatpickr","altInput","altFormat","dateFormat","defaultDate","Date","minDate","on","squareFootage","dateCommercial","oftenWorkInputValue","squarePreviewText","savedSquarePreviewText","toString","selectedValue","textToShow","newSquarePreview","append","squareFootageValue","existingSquareBlock","previewItems","isChecked","numberInput","formNumber","ActiveInputValue","hasClass","which","preventDefault","urlParams","URLSearchParams","window","location","search","get","getComputedStyle","display","cleaningValue","item","style"],"mappings":"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","file":"../../../min/page-order.min.js","sourcesContent":["$('.form-radios input[type=\"radio\"]').change(function() {\n    const $formRadios = $(this).closest('.form-radios');\n    $formRadios.find('label').removeClass('checked');\n\n    if ($(this).is(':checked')) {\n        $(this).closest('label').addClass('checked');\n    }\n});\n\n$(function() {\n    (function quantityProducts() {\n        var $quantityArrowMinus = $('.quantity-arrow-minus');\n        var $quantityArrowPlus = $('.quantity-arrow-plus');\n\n        $quantityArrowMinus.click(quantityMinus);\n        $quantityArrowPlus.click(quantityPlus);\n\n        function quantityMinus() {\n            var $quantityNum = $(this).siblings('.quantity-num');\n            var currentValue = +$quantityNum.val();\n\n            if ($quantityNum.attr('name') !== 'bedrooms' && currentValue <= 1) {\n                return;\n            }\n            if ($quantityNum.attr('name') === 'bedrooms' && currentValue <= 0) {\n                return;\n            }\n\n            if (currentValue > 0) {\n                $quantityNum.val(currentValue - 1);\n            }\n        }\n\n        function quantityPlus() {\n            var $quantityNum = $(this).siblings('.quantity-num');\n            $quantityNum.val(+$quantityNum.val() + 1);\n        }\n    })();\n});\n\n$(document).ready(() => {\n    flatpickr(\n        '#datepick_selector',\n        {\n            altInput: true,\n            altFormat: 'Y-m-d',\n            dateFormat: 'Y-m-d',\n            defaultDate: new Date(),\n            minDate: new Date(),\n        }\n    );\n\n    $('input[name=\"square_footage\"]').on('input', function() {\n        var squareFootage = $(this).val();\n        $('.main-form__right_preview--item--square .main-form__right_preview--text').text(squareFootage + ' m2');\n    });\n\n    $('input[name=\"date\"]').on('input', function() {\n        var dateCommercial = $(this).val();\n        $('.main-form__right_preview--item--date .main-form__right_preview--text').text(dateCommercial);\n    });\n\n    $('input[name=\"often_work\"]').change(function() {\n        var oftenWorkInputValue = $('input[name=\"often_work\"]:checked').val();\n        $('.main-form__right_preview--item--often .main-form__right_preview--text').text(oftenWorkInputValue);\n    });\n\n    let squarePreviewText = '';\n    let savedSquarePreviewText = '';\n\n    $('input[name=\"square_footage\"]').on('input', function() {\n        const squareFootage = parseFloat($(this).val());\n\n        if (squareFootage > 1) {\n            squarePreviewText = squareFootage.toString() + ' m²';\n        } else {\n            squarePreviewText = '';\n        }\n\n        const selectedValue = $('input[name=\"type_cleaning\"]:checked').data('type_cleaning');\n\n        if (selectedValue !== 6) {\n            savedSquarePreviewText = $(this).val();\n        }\n\n        $('.summary-preview-service .main-form__right_preview--item[data-form_cleaning=\"square\"]').remove();\n        if ((selectedValue !== 6 && squarePreviewText !== '') || savedSquarePreviewText !== '') {\n            const textToShow = savedSquarePreviewText !== '' ? savedSquarePreviewText + ' m²' : squarePreviewText;\n            const newSquarePreview = `\n            <div class=\"main-form__right_preview--item d-flex --just-space\" data-form_cleaning=\"square\">\n                <div class=\"main-form__right_preview--title\">\n                    Square\n                </div>\n                <div class=\"main-form__right_preview--text\">\n                    ${textToShow}\n                </div>\n            </div>\n        `;\n            if (selectedValue !== 6) {\n                $('.summary-preview-service').append(newSquarePreview);\n            }\n        }\n    });\n\n    $('input[name=\"type_cleaning\"]').change(function() {\n        const selectedValue = $(this).data('type_cleaning');\n\n        if (selectedValue !== 6) {\n            const squareFootageValue = $('input[name=\"square_footage\"]').val();\n            if (squareFootageValue !== '') {\n                const existingSquareBlock = $('.summary-preview-service .main-form__right_preview--item[data-form_cleaning=\"square\"]');\n                if (existingSquareBlock.length === 0) {\n                    const newSquarePreview = `\n                    <div class=\"main-form__right_preview--item d-flex --just-space\" data-form_cleaning=\"square\">\n                        <div class=\"main-form__right_preview--title\">\n                            Square\n                        </div>\n                        <div class=\"main-form__right_preview--text\">\n                            ${squareFootageValue} m²\n                        </div>\n                    </div>\n                `;\n                    $('.summary-preview-service').append(newSquarePreview);\n                } else {\n                    existingSquareBlock.find('.main-form__right_preview--text').text(squareFootageValue + ' m²');\n                }\n            }\n        } else {\n            $('.summary-preview-service .main-form__right_preview--item[data-form_cleaning=\"square\"]').remove();\n        }\n    });\n\n    $('input[name=\"type_cleaning\"]').change(function() {\n        var selectedValue = $(this).data('type_cleaning');\n        var previewItems = $('.summary-preview-service .main-form__right_preview--item');\n\n        if (selectedValue === 6) {\n            previewItems.hide();\n            $('.summary-commercial-preview').remove();\n            $('.summary-preview-service').append('<div class=\"summary-commercial-preview main-form__right_preview--item main-form__right_preview--item--square d-flex --just-space\">' +\n                '<div class=\"main-form__right_preview--title\">Square</div>' +\n                '<div class=\"main-form__right_preview--text\">' + $('input[name=\"square_footage\"]').val() + ' m2</div>' +\n                '</div><div class=\"summary-commercial-preview main-form__right_preview--item main-form__right_preview--item--date d-flex --just-space\">' +\n                '<div class=\"main-form__right_preview--title\">Date</div>' +\n                '<div class=\"main-form__right_preview--text\">' + $('input[name=\"date\"]').val() + '</div>' +\n                '</div><div class=\"summary-commercial-preview main-form__right_preview--item main-form__right_preview--item--often d-flex --just-space\">' +\n                '<div class=\"main-form__right_preview--title\">How Often</div>' +\n                '<div class=\"main-form__right_preview--text\">' + $('input[name=\"often_work\"]:checked').val() + '</div>' +\n                '</div>');\n        } else {\n            previewItems.show();\n            $('.summary-commercial-preview').remove();\n        }\n    });\n\n    $('.extras_label').change(function() {\n        var isChecked = $(this).is(':checked');\n        var extras = $(this).attr('id');\n        var numberInput = $('input[data-extras=\"' + extras + '\"]');\n        var formNumber = numberInput.closest('.form-checkbox-item').find('.form-number');\n\n        if (isChecked) {\n            formNumber.show();\n        } else {\n            formNumber.hide();\n        }\n    });\n\n    function toggleCleaningItems(showClass, hideSelector, hideBathrooms = false) {\n        $(showClass).show();\n        $(hideSelector).hide();\n        if (hideBathrooms) {\n            $('.form-number-item-bathrooms').hide();\n        } else {\n            $('.form-number-item-bathrooms').show();\n        }\n    }\n\n    $('input[name=\"type_cleaning\"]').change(function() {\n        var selectedValue = $(this).attr('class');\n        var ActiveInputValue = $(this).val();\n\n        if (selectedValue.includes('all_cleaning')) {\n            toggleCleaningItems('.form-checkbox-item.all_cleaning', '.form-checkbox-item:not(.all_cleaning)');\n        } else if (selectedValue.includes('deep_cleaning')) {\n            toggleCleaningItems('.form-checkbox-item.deep_cleaning', '.form-checkbox-item:not(.deep_cleaning)');\n        } else if (selectedValue.includes('domestic_cleaning')) {\n            toggleCleaningItems('.form-checkbox-item.domestic_cleaning', '.form-checkbox-item:not(.domestic_cleaning)');\n        } else if (selectedValue.includes('carpet_cleaning')) {\n            toggleCleaningItems('.form-checkbox-item.carpet_cleaning', '.form-checkbox-item:not(.carpet_cleaning)', true);\n        }\n\n        if ($(this).hasClass('often_work_cleaning')) {\n            $('.often_work').hide();\n        } else {\n            $('.often_work').show();\n        }\n\n        if ($(this).hasClass('domestic_cleaning')) {\n            $('.form-radios-furnished').hide();\n            $('.cleaning_products').show();\n        } else {\n            $('.form-radios-furnished').show();\n            $('.cleaning_products').hide();\n        }\n\n        if ($(this).hasClass('commercial_cleaning')) {\n            $('.extras, .space-option, .main-form__right_price, .payment-method').hide();\n        } else {\n            $('.extras, .space-option, .main-form__right_price, .payment-method').show();\n        }\n\n        $('.preview-type-cleaning').text(ActiveInputValue);\n    });\n\n    $('input[name=\"postcode\"]').on('blur', function() {\n        validatePostcode();\n    });\n\n    $('input[name=\"type_cleaning\"]').on('change', function() {\n        $('.main-form__right_postcode').text('');\n        $('.error-message').text('').removeClass('search-success search-error');\n        validatePostcode();\n    });\n\n    $('input[name=\"postcode\"]').on('keydown', function(event) {\n        if (event.which === 13) {\n            event.preventDefault();\n            validatePostcode();\n        }\n    });\n\n    function validatePostcode() {\n        var enteredPostcode = $('input[name=\"postcode\"]').val().toUpperCase();\n        var typeCleaning = $('input[name=\"type_cleaning\"]:checked').data('type_cleaning');\n\n        $.ajax({\n            url: '/wp-admin/admin-ajax.php',\n            method: 'POST',\n            dataType: 'json',\n            data: {\n                action: 'busy_bee_get_supported_postcodes'\n            },\n            success: function(postcodes) {\n\n                var validationStatus = isValidPostcode(enteredPostcode, postcodes.supported, postcodes.unsupported, typeCleaning);\n\n                if (validationStatus === 'supported') {\n                    $('.main-form__right_postcode').text(enteredPostcode);\n                    $('.error-message').text('Cleaner is available in your area').removeClass('search-error').addClass('search-success');\n                } else if (validationStatus === 'unsupported') {\n                    $('.main-form__right_postcode').text('');\n                    $('.error-message').text('Unfortunately we don’t cover your area').removeClass('search-success').addClass('search-error');\n                } else {\n                    $('.main-form__right_postcode').text('');\n                    $('.error-message').text('Please enter a valid postcode').removeClass('search-success').addClass('search-error');\n                }\n            },\n            error: function(error) {\n                console.error(error);\n            }\n        });\n    }\n\n    function isValidPostcode(postcode, supportedPostcodes, unsupportedPostcodes, typeCleaning) {\n        var uppercasePostcode = postcode.toUpperCase();\n\n        if (supportedPostcodes.includes(uppercasePostcode)) {\n            return 'supported';\n        }\n\n        if (unsupportedPostcodes.includes(uppercasePostcode)) {\n            if (typeCleaning === 6) {\n                return 'supported';\n            } else {\n                return 'unsupported';\n            }\n        }\n\n        if (uppercasePostcode.length >= 4) {\n            var firstFour = uppercasePostcode.substring(0, 4);\n\n            if (supportedPostcodes.includes(firstFour)) {\n                return 'supported';\n            } else if (unsupportedPostcodes.includes(firstFour)) {\n                if (typeCleaning === 6) {\n                    return 'supported';\n                } else {\n                    return 'unsupported';\n                }\n            }\n        }\n\n        if (uppercasePostcode.length >= 3) {\n            var firstThree = uppercasePostcode.substring(0, 3);\n\n            if (supportedPostcodes.includes(firstThree)) {\n                return 'supported';\n            } else if (unsupportedPostcodes.includes(firstThree)) {\n                if (typeCleaning === 6) {\n                    return 'supported';\n                } else {\n                    return 'unsupported';\n                }\n            }\n        }\n\n        return 'invalid';\n    }\n\n    function setPostcodeFromURL() {\n        const urlParams = new URLSearchParams(window.location.search);\n        const postcode = urlParams.get('postcode');\n\n        if (postcode) {\n            $('input[name=\"postcode\"]').val(postcode);\n            $('.main-form__right_postcode').text(postcode);\n            $('.error-message').text('Cleaner is available in your area').removeClass('search-error').addClass('search-success');\n        }\n    }\n\n    setPostcodeFromURL();\n\n    $('input[name=\"type_cleaning\"]').on('change', function() {\n        const checkboxes = document.querySelectorAll('.form-checkbox-item[data-form_cleaning]');\n        checkboxes.forEach((checkbox) => {\n            const checkboxStyle = window.getComputedStyle(checkbox);\n            if (checkboxStyle.display === 'none') {\n                const cleaningValue = checkbox.getAttribute('data-form_cleaning');\n                const itemsToHide = document.querySelectorAll(`.main-form__right_preview--item[data-form_cleaning=\"${cleaningValue}\"]`);\n                itemsToHide.forEach((item) => {\n                    item.style.display = 'none';\n                });\n            }\n        });\n    });\n\n});\n\nfunction updateSummaryPreview(extrasName, labelText, totalCost, formCleaning) {\n    const summaryService = document.querySelector('.summary-preview-service');\n    const existingItem = summaryService.querySelector(`[data-extras=\"${extrasName}\"]`);\n\n    if (existingItem) {\n        const textElement = existingItem.querySelector('.main-form__right_preview--text');\n        textElement.textContent = `£${totalCost.toFixed(2)}`;\n    } else {\n        const previewHTML = `\n            <div class=\"main-form__right_preview--item d-flex --just-space\" data-extras=\"${extrasName}\" ${formCleaning ? `data-form_cleaning=\"${formCleaning}\"` : ''}>\n                <div class=\"main-form__right_preview--title\">${labelText}</div>\n                <div class=\"main-form__right_preview--text\">£${totalCost.toFixed(2)}</div>\n            </div>\n        `;\n        summaryService.insertAdjacentHTML('beforeend', previewHTML);\n    }\n}\n\nfunction handleQuantityNumChange(event) {\n    const input = event.target;\n    const checkboxItem = input.closest('.form-checkbox-item');\n    const priceElement = checkboxItem.querySelector('[data-price]');\n    const price = parseFloat(priceElement.dataset.price);\n    const extrasName = input.dataset.extras;\n    let quantity = parseFloat(input.value);\n\n    let extrasQuantity = quantity;\n\n    if (quantity < 1 || isNaN(quantity)) {\n        extrasQuantity = 1;\n        input.value = 1;\n    }\n\n    const labelText = checkboxItem.querySelector('.extras_label').textContent.trim();\n    const totalCost = price * extrasQuantity;\n    updateSummaryPreview(extrasName, labelText, totalCost);\n}\n\nfunction getSelectedExtras() {\n    const checkboxes = document.querySelectorAll('.extras_label');\n\n    checkboxes.forEach((checkbox) => {\n        checkbox.addEventListener('change', (event) => {\n            const extrasName = event.target.name;\n            const inputExtrasValue = document.querySelector(`[data-extras=\"${extrasName}\"]`).value;\n            const isSelected = event.target.checked;\n            const labelText = event.target.nextElementSibling.textContent.trim();\n            const priceElement = event.target.closest('.form-checkbox-item').querySelector('[data-price]');\n            const price = parseFloat(priceElement.dataset.price);\n            const quantity = parseFloat(document.querySelector(`[data-extras=\"${extrasName}\"].quantity-num`).value);\n            const formCleaningElement = event.target.closest('.form-checkbox-item').getAttribute('data-form_cleaning');\n            const formCleaning = formCleaningElement ? parseInt(formCleaningElement, 10) : undefined;\n\n            if (isSelected) {\n                const totalCost = price * quantity;\n                updateSummaryPreview(extrasName, labelText, totalCost, formCleaning);\n                // console.log(`Выбрано: ${extrasName} - ${inputExtrasValue} - Label Text: ${labelText} - Price: £${totalCost.toFixed(2)}`);\n            } else {\n                // console.log(`Не выбрано: ${extrasName}`);\n                const existingItem = document.querySelector(`.main-form__right_preview--item[data-extras=\"${extrasName}\"]`);\n                if (existingItem) {\n                    existingItem.remove();\n                }\n            }\n        });\n    });\n\n    const quantityNums = document.querySelectorAll('.quantity-num');\n\n    quantityNums.forEach((input) => {\n        input.addEventListener('input', handleQuantityNumChange);\n    });\n\n    const quantityArrows = document.querySelectorAll('.extras .quantity-arrow');\n    quantityArrows.forEach((arrow) => {\n        arrow.addEventListener('click', (event) => {\n\n            const checkboxItem = event.target.closest('.form-checkbox-item');\n            const priceElement = checkboxItem.querySelector('[data-price]');\n            const price = parseFloat(priceElement.dataset.price);\n            const input = checkboxItem.querySelector('.quantity-num');\n            const extrasName = input.dataset.extras;\n            let quantity = parseFloat(input.value);\n            let extrasQuantity = quantity + 1;\n\n            if (event.target.classList.contains('quantity-arrow-plus')) {\n                extrasQuantity = quantity + 1;\n            } else if (event.target.classList.contains('quantity-arrow-minus')) {\n                if (quantity > 1) {\n                    extrasQuantity = quantity - 1;\n                } else {\n                    extrasQuantity = 1;\n                }\n            }\n\n            const labelText = checkboxItem.querySelector('.extras_label').textContent.trim();\n            const totalCost = price * extrasQuantity;\n            updateSummaryPreview(extrasName, labelText, totalCost);\n        });\n    });\n\n}\n\ngetSelectedExtras();\n\n"]}